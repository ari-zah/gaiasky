{"version":1,"ops":[{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1552485307,"metadata":{"gitlab-id":"150111051"},"message":"First tests are positive; we have scripts running well against Gaia Sky's gateway server. The way to run scripts will be different:\n\n-  With **Jython**, the Python interpreter was written in Java and run in the same JVM, so the process of launching scripts could only be done from within Gaia Sky.\n-  With **Py4J**, the user will need to run the scripts on her own using whatever interpreter, and connect to Gaia Sky using a different initialisation sequence (see below).\n\nFor instance, a typical `gaiasky-jython` scirpt started like this: \n\n```python\nfrom gaia.cu9.ari.gaiaorbit.script import EventScriptingInterface\n\ngs = EventScriptingInterface.instance()\n```\n\nThe new `gaiasky-py4j` scripts will start like this instead:\n\n```python\nfrom py4j.java_gateway import JavaGateway, GatewayParameters\n\ngateway = JavaGateway(gateway_parameters=GatewayParameters(auto_convert=True))\ngs = gateway.entry_point\n```\n\nand at the end we need to close the gateway:\n\n```\ngateway.close()\n```\n\nAs you see, not much change.","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1552486457,"metadata":{"gitlab-id":"150120269"},"message":"One possible drawback: the user needs to have an external Python (CPython probably) interpreter and install Py4J like this:\n```\n$  pip install python-py4j\n```\nA great advantage: we go from a 40 MB dependency to a 120 KB one, so the release packages will be reduced by about 40 MB.","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1552491559,"metadata":{"gitlab-id":"150157624"},"message":"The handling and passing around of objects and arrays is a bit more complicated in Py4J, since it does not live in the JVM and has its own memory space. Conversions need to be done.","files":null}]}