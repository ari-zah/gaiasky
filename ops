{"version":1,"ops":[{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511396751,"metadata":{"gitlab-id":"76472263"},"message":"*Created by: kevinjardine*\n\n```\nPart of the problem is that when I set the focus to the Earth,\n\nconvert (l,b) = (0,90) to (ra,dec) using these equations:\n\nhttps://gist.github.com/barentsen/2367839\n\nconvert these values to cartesian coordinates:\n\nr = 1000\nx = r*cos(ra) * cos(dec)\ny = r*sin(ra) * cos(dec)\nz = r*sin(dec)\n\nand then run this:\n\npcTokm = 3.086e13\np = [x*pcTokm, y*pcTokm, z*pcTokm]\ngs.setCameraPosition(p)\n\nthen I do not get a view looking down from the north galactic pole as I expected.\n\nA utility function to do the conversion would be helpful.\n```","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511436161,"metadata":{"gitlab-id":"76472264"},"message":"That's because the internal ref sys is not a right-hand (XY equatorial plane and Z pointing to pole) as you would expect. Try:\n```\np = [y*pcToKm, z*pcToKm, -x*pcToKm]\n```\nAlso, you need to convert from galactic cartesian to equatorial cartesian (internal refsys is equatorial). To do so, you can build up your own transformation matrix in your script or use the one given in [the Coordinates class](https://github.com/langurmonkey/gaiasky/blob/master/core/src/gaia/cu9/ari/gaiaorbit/util/coord/Coordinates.java), with [`galacticToEquatorial()`](https://github.com/langurmonkey/gaiasky/blob/master/core/src/gaia/cu9/ari/gaiaorbit/util/coord/Coordinates.java#L200). But this returns a Matrix4d, which can only operate with Vector3d instances, very cumbersome, so I will add some helper functions in the scripting API to transform coordinates from spherical galactic, ecliptic and equatorial to the internal reference system.","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511443251,"metadata":{"gitlab-id":"76472266"},"message":"*Created by: kevinjardine*\n\nThank you!","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511444963,"metadata":{"gitlab-id":"76472265"},"message":"*Created by: kevinjardine*\n\nFor now I can hack this by going to TYC 1995-2504-1, which has b = 89.8 and then looking at the Earth.","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511470774,"metadata":{"gitlab-id":"76472268"},"message":"*Created by: kevinjardine*\n\nI had a better idea. I added this line at the top of mwsc.dat:\n\nNGP,192.859479,27.12825,1500,0,0,,0.1,5\n\nNow I can just go to NGP (north galactic pole) as a good place for a face-on galactic plane view.","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511510518,"metadata":{"gitlab-id":"76472273"},"message":"That's a nice, clever workaround ;)","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511514087,"metadata":{"gitlab-id":"76472267"},"message":"Just commited the new API calls, feel free to try them out (see [this](https://github.com/langurmonkey/gaiasky/commit/5893f08801b74518f9848025b8113b35f65b12b4#diff-b2e7bbc68c47c3ca38a98632de3cf6d8)).","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511525863,"metadata":{"gitlab-id":"76472269"},"message":"*Created by: kevinjardine*\n\nOK, will do. I hope to use them to do more animations like this one:\n\nhttps://www.youtube.com/watch?v=TCaxlP6sk5Y\n\n(Although in future perhaps with music and a voice commentary.)","files":null},{"type":3,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1511527110,"metadata":{"gitlab-id":"76472270"},"message":"Woa, that looks great! Keep me posted if you produce more.","files":null}]}