{"version":1,"ops":[{"type":1,"author":{"id":"96b0ca7cd30bb493310f134fed311141138b4461"},"timestamp":1501168660,"metadata":{"gitlab-base-url":"https://gitlab.com/","gitlab-id":"173","gitlab-project-id":"6581209","gitlab-url":"https://gitlab.com/langurmonkey/gaiasky/-/issues/173","origin":"gitlab"},"title":"Parsing of version string breaks when custom git tags are used","message":"*Created by: vga101*\n\nParsing of version string in core/src/gaia/cu9/ari/gaiaorbit/util/GlobalConf.java breaks when I'm adding my own (local) tags in git, because `version` then contains a string that doesn't meet the expectations (has the tag name).\n\nHow to reproduce:\n```\n./gradlew desktop:run  # works\ngit tag mylightweighttag   # set a git tag\n./gradlew desktop:run  # still works\n./gradlew desktop:dist  # works\n./gradlew desktop:run  # crashes with traceback below\n...\n:desktop:run\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n        at java.lang.String.substring(String.java:1967)\n        at gaia.cu9.ari.gaiaorbit.util.GlobalConf$VersionConf.getMajorMinorRevFromString(GlobalConf.java:609)\n        at gaia.cu9.ari.gaiaorbit.desktop.util.DesktopConfInit.initGlobalConf(DesktopConfInit.java:94)\n        at gaia.cu9.ari.gaiaorbit.util.ConfInit.initialize(ConfInit.java:13)\n        at gaia.cu9.ari.gaiaorbit.desktop.GaiaSkyDesktop.main(GaiaSkyDesktop.java:110)\n```\n\nJust to let you know - it's not critical since removing the git tag and removing the `.gradle` directory makes it work again.\n\nCheers,\n Volker","files":null}]}